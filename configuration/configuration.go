package configuration

// Environment contains the environment specific fields.
type Environment struct {
	BaseURL     string
	Certificate string
}

// NewEnvironment creates a new environment.
func NewEnvironment(baseURL string, certificate string) *Environment {
	return &Environment{baseURL, certificate}
}

// Pkcs12 contains the PKCS12 specific fields.
type Pkcs12 struct {
	Content  []byte
	Password string
}

// Configuration contains the configuration specific fields.
type Configuration struct {
	Environment *Environment
	Pkcs12      *Pkcs12
}

// New creates a new configuration.
func New(environment *Environment, pkcs12 *Pkcs12, options ...Option) *Configuration {
	instance := &Configuration{Environment: environment, Pkcs12: pkcs12}

	// Apply options if there are any, can overwrite default
	for _, option := range options {
		option(instance)
	}

	return instance
}

// Option definition.
type Option func(*Configuration)

var (
	// TestEnvironment contains the environment specific fields for the test environment.
	TestEnvironment = NewEnvironment("https://appapi2.test.bankid.com/rp/v5.1", testCertificate)
	// ProductionEnvironment contains the environment specific fields for the production environment.
	ProductionEnvironment = NewEnvironment("https://appapi2.bankid.com/rp/v5.1", prodCertificate)
)

const (
	prodCertificate string = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZ2akNDQTZhZ0F3SUJBZ0lJVHlUaC91MWJFeG93RFFZSktvWklodmNOQVFFTkJRQXdZakVrTUNJR0ExVUUKQ2d3YlJtbHVZVzV6YVdWc2JDQkpSQzFVWld0dWFXc2dRa2xFSUVGQ01Sb3dHQVlEVlFRTERCRkpibVp5WVhOMApjblZqZEhWeVpTQkRRVEVlTUJ3R0ExVUVBd3dWUW1GdWEwbEVJRk5UVENCU2IyOTBJRU5CSUhZeE1CNFhEVEV4Ck1USXdOekV5TXpRd04xb1hEVE0wTVRJek1URXlNelF3TjFvd1lqRWtNQ0lHQTFVRUNnd2JSbWx1WVc1emFXVnMKYkNCSlJDMVVaV3R1YVdzZ1FrbEVJRUZDTVJvd0dBWURWUVFMREJGSmJtWnlZWE4wY25WamRIVnlaU0JEUVRFZQpNQndHQTFVRUF3d1ZRbUZ1YTBsRUlGTlRUQ0JTYjI5MElFTkJJSFl4TUlJQ0lqQU5CZ2txaGtpRzl3MEJBUUVGCkFBT0NBZzhBTUlJQ0NnS0NBZ0VBd1ZBNHNuWmlTRkkzcjY0THZZdTRtT3NJNDJBOWFMS0VRR3E0SVpvMjU3aXEKdlBIODJTTXZnQkpnRTUya0N4N2dRTW1aN2lTbTM5Q0VBMTlobElMaDhKRUpOVHlKTnhNeFZETjZjZkpQMWpNSApKZVRFUzFUbVZiV1VxR3lMcHlUOExDSmhDOVZxNFczdC9PMXN2R0pOT1VRSVFMNGVBSFN2V1RWb2FseHpvbUpoCk9uOTdFTmpYQXQ0QkxiNnNIZlZCdm1CNVJlSzBVZndwTkFDRk0xUk44YnRFYURkV0M0UGZBNzJ5elYzd0svY1kKNWgyazFSTTFzMTlQam94bnBKcXJtbjRxWm1QNHROL25rMmQ3YzRGRXJKQVAwcG5Oc2xsMStKZmtkTWZpUEQzNQorcWNjbHBzcHpQMkxwYXVRVnlQYk8yMU5oK0VQdHI3K0lpYzJ0a2d6MGcxa0swSUwvZm9GckowSWV2eXIzRHJtCjJ1Um5BMGVzWjQ1R09tWmhFMjJteWNFWDlsN3c5anJkc0t0cXM3Ti9UNDZoaWw0eEJpR2JsWGtxS05HNlR2QVIKazZYcU9wM1J0VXZHR2FLWm5HbGxzZ1R2UDM4L25yU01sc3pOb2pybGJEbm0xNkdHb1JUUW53cjhsK1l2YnovZQp2L2U2d1ZGRGpiNTJaQjBaL0tUZmpYT2w1Y0FKN09DYk9ETVdmOE5hNTZPVGxJa3JrNU55VS91R3pKRlVRU3ZHCmRMSFVpcEovc1RaQ2JxTlNaVXdib0kwb1FOTy9ZZ2V6Mko2emdXWEdwRFdpTjRMR0xEbUJoQjNUOENNUXU5Si8KQmNGdmdqblV5aHlpbTM1a0RwalZQQzhuclNpcjVPa2FZZ0dkWVdkRHV2MTQ1NmxGTlBOTlFjZFpkdDVmY21NQwpBd0VBQWFONE1IWXdIUVlEVlIwT0JCWUVGUGdxc3V4NVJ0Y3JJaEFWZXVMQlNnQnVSREZWTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0h3WURWUjBqQkJnd0ZvQVUrQ3F5N0hsRzF5c2lFQlY2NHNGS0FHNUVNVlV3RXdZRFZSMGcKQkF3d0NqQUlCZ1lxaFhCT0FRUXdEZ1lEVlIwUEFRSC9CQVFEQWdFR01BMEdDU3FHU0liM0RRRUJEUVVBQTRJQwpBUUFKT2pVT1MyR0pQTnJycnFmNTM5YU4xL0ViVWo1WlZSakc0d3pWdFg1eVZxUEdjUlpqVVFsTlRjZk9wd1BvCmN6S0JuTlgyT01GK1FtOTRiYit4WGMvMDhBRVJxSkozRlBLdThvRE5lSytSdjFYNG5oOTVKNFJIWmN2bDRBR2gKRUNtR015aHlDZWEwcVpCRkJzQnFRUjdvQzlhZllPeHNTb3ZhUHFYMzFRTUxVTFdVWW9CS1dXSExWVklvSGpBbQpHdEF6TWtMd2UwL2xyVnlBcHI5aXlYV2hWcitxWUdtRkd3MStyd212RG1tU0xXTldhd1lnSDROWXhUZjh6NWhCCmlET2RBZ2lsdnlpQUY4WWwwa0NLVUIyZkFQaFJOWWxFY04rVVAvS0wyNGgvcEIraFo5bXZSMHRNNm5XM0hWWmEKRHJ2Uno0VmloWjh2UmkzZlluT0FrTkU2a1pkcnJkTzdMZEJjOXlZa2ZRZFRjeTBOK0F3N3E0VGtROG5wb21yVgptVEthUGh0R2hBN1ZJQ3lSTkJWY3Z5b3hyK0NZN2FSUXlIbi9DN24valJzUVl4czd1Yyttc3E2alJTNEhQSzhvCmxuRjl1c1daWDZLWSs4bXdlSmlURTR1TjRaVVVCVXR0OFdjWFhEaUsvYnhFRzJhbWpQY1ovYjRMWHdHQ0piK2EKTldQNCtpWTZrQktyTUFOczAxcEx2dFZqVVM5UnRSclkzY05FT2htS2hPMHFKU0RYaHNUY1Z0cGJEcjM3VVRTcQpRVnc4M2RSZWlBUlB3R2RVUm1ta2FoZUg2ejRrNnFFVVNYdUZjaDB3NTNVQWMrMWFCWFIxYmd5RnFNZHk3WXhpCmIyQVl1N3duckhpb0RXcVA2RFRrVVNVZU1CL3pxV1BNL3F4NlFOTk9jYU9jakE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t"
	testCertificate string = "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUYwRENDQTdpZ0F3SUJBZ0lJSWhZYXh1NGtoZ0F3RFFZSktvWklodmNOQVFFTkJRQXdiREVrTUNJR0ExVUUKQ2d3YlJtbHVZVzV6YVdWc2JDQkpSQzFVWld0dWFXc2dRa2xFSUVGQ01Sb3dHQVlEVlFRTERCRkpibVp5WVhOMApjblZqZEhWeVpTQkRRVEVvTUNZR0ExVUVBd3dmVkdWemRDQkNZVzVyU1VRZ1UxTk1JRkp2YjNRZ1EwRWdkakVnClZHVnpkREFlRncweE5ERXhNakV4TWpNNU16RmFGdzB6TkRFeU16RXhNak01TXpGYU1Hd3hKREFpQmdOVkJBb00KRzBacGJtRnVjMmxsYkd3Z1NVUXRWR1ZyYm1scklFSkpSQ0JCUWpFYU1CZ0dBMVVFQ3d3UlNXNW1jbUZ6ZEhKMQpZM1IxY21VZ1EwRXhLREFtQmdOVkJBTU1IMVJsYzNRZ1FtRnVhMGxFSUZOVFRDQlNiMjkwSUVOQklIWXhJRlJsCmMzUXdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDQUtXc0pjL2tWLzA0MzRkK1MKcW4xOW1Jcjg1UlovUGdSRmFVcGxTcm5odXpBbWFYaWhQTENFc2QzTWgvWUVyeWdjeGhRL01Bemk1T1ovYW5mdQpXU0N3Y2VSbFFJTnR2bFJQZE1vZVp0dTI5RnNudEsxWjVyMlNZTmRGd2JSRmI4V045RnNVMEt2QzV6Vm51RE1nCnM1ZFVad1RtZHpYNVpkTFA3cGRnQjN6aFRucmE1T1J0a2lXaVV4SlZldjlrZVJnQW8wMFpISVJKK3hUZmlTUGQKSmMzMTRtYWlnVlJRWmRHS1N5UWNRTVRXaTFZTHdkMnp3T2FjTnhsZVlmOHhxS2drWnNta3JjNERwMm1SNVBrcgpubktCNkE3c0FPU05hdHVhN004NkVnY0dpOUFhRXlhUk1rWUpJbWJCZnphTmxhQlB5TVN2d21CWnpwMnhLYzlPCkQzVTA2b2dWNkNKakpMN2hTdVZjNXgvMkgwNGQrMkkrREt3ZXA2WUJvVkw5TDgxZ1JZUnljcWcrdytjVFoxVEYKL3M2TkM1WVJLU2VPQ3JMdzNvbWJoanl5dVBsOFQvaDljcFh0Nm0zeTJ4SVZMWVZ6ZURoYXFsM2hkaTZJcFJoNgpyd2tNaEovWG1PcGJEaW5YYjFmV2RGT3lRd3FzWFFXT0V3S0JZSWtNNmNQbnVpZDdxd2F4ZlAyMmhEZ0FvbEdNCkxZN1RQS1VQUndWK2E1WTNWUGw3aDBZU0s3bER5Y2tUSmR0QnFJNmQ0UFdRTG5IYWtVZ1JReTY5blpoR1J0VXQKUE1TSjdJNFF0dDNCNkF3RHErU0pUZ2d3dEpRSGVpZDBqUGtpNnBvdWVuaFBRNmRaVDUzMngxNlhEK1dJY0QyZgovL1h6ek91ZVMyOUtCN2x0L3dINUs2RXV4d0lEQVFBQm8zWXdkREFkQmdOVkhRNEVGZ1FVRFk2WEovRklSRlgzCmRCNFdlcDNSVk04NFJYb3dEd1lEVlIwVEFRSC9CQVV3QXdFQi96QWZCZ05WSFNNRUdEQVdnQlFOanBjbjhVaEUKVmZkMEhoWjZuZEZVenpoRmVqQVJCZ05WSFNBRUNqQUlNQVlHQkNvREJBVXdEZ1lEVlIwUEFRSC9CQVFEQWdFRwpNQTBHQ1NxR1NJYjNEUUVCRFFVQUE0SUNBUUE1czU5L09saW80c3ZIWGlLdTdzUFFSdnJmNEdmR0I3aFVqQkdrCllXMllPSFRZbkhhdlNxbEJBU0hjOGdHR3d1Yzd2NytIK3ZtT2ZTTFpmR0RxeG5CcWVKeDFINUUwWXFFWHROcVcKRzFKdXNJRmE5eFd5cGNPTmpnOXY3SU1ueHhRekxZd3M0WXdnUHljaHBNeldZNkI1aFpzalV5S2dCKzFpZ3huZgp1YUJ1ZUxQdzNaYUpoY0NMOGd6NlNkQ0ttUXBYNFZhQWFkUzB2ZE1yQk9tZDgyNkgrYURHWmVrMXZNanVIMTFGCmZKb1hZMmp5RG5sb2w3WjRCZkhjMDExdG9XTk14b2pJN3crVTRLS0NiU3hwV0ZWWUlUWjhXbFlIY2orYjJBMSsKZEZRWkZ6UU4rWTFXeDNWSVVxU2tzNlA3RjVhRi9sNFJCbmd5MDh6a1A3aUxBL0M3cm02MXhXeFRtcGozcDZTRwpmVUJzcnNCdkJnZkpRSEQvTXg4VTNpUUNhMFZqMVhQb2dFL1BYUVFxMnZ5V2lBUDY2MmhENm9nMS9vbTNsMVBKClRCVXlZWHhxSk83NXV4OElXYmxVd0Fqc21UbEYvUGNqOFFiY01QWExNVGdOUUFnYXJWNmd1Y2hqaXZZcWI2WnIKaHErTmgzSnJGMEhZUXVNZ0V4UTZWWDhUNTZzYU9FdG1scDZMU1FpNEh2S2F0Q05mV1VKR29ZZVQ1U3JjSjZzbgpCeTdYTE1oUVVDT1hjQndLYk52WDZhUDc5VkEzeWVKSFpPN1hQYXJYN1Y5QkIranRmNHR6L3VzbUFULytxWHRICkNDdjlYZjRsdjhqZ2RPbkZmWGJYdVQ4STRnejh1cThFbEJscGJKbnRPNnAvTlk1YTA4RTZDN0ZXVlIrV0o1dloKT1AySHNBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="
)
